{% extends "base.html" %}
{% block content %}
    <script src="../static/selectModel.js" > </script>
    <script src="../static/typeText.js" > </script>

    <div class="d-flex justify-content-end mb-3">
        <a href="/logout" class="text-dark text-decoration-none">Logout</a>
    </div>

    <h2 class="text-center mb-3">
        Получить значение слова в контексте
    </h2>

    <div class="mb-3">
      <label for="exampleFormControlInput1" class="form-label">Email address</label>
      <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com">
    </div>
    <div class="mb-3">
      <label for="exampleFormControlTextarea1" class="form-label">Example textarea</label>
      <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
    </div>

    <div class="d-flex justify-content-between align-items-center">
        <form method="POST" action="/prompt" id="mainForm" class="mainForm w-100">
            <input type="text" name="text" class="form-control mb-2" placeholder="type a sentence">
            <input type="text" name="word" class="form-control mb-2" placeholder="word">
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>

        <div class="model-block">
            {% for model in models %}
                <div id="models">
                    <button class="btn btn-secondary mb-2" type="button" onclick="selectModel('{{ model }}')">{{ model }}</button>
                </div>
            {% endfor %}
        </div>

    </div>

    <div id="result" class="model-msg">
        {% if result %}
            {{ result }}
        {% else %}
            Результат будет отображен здесь...
        {% endif %}
    </div>


    <h3 class="mb-3 text-left">Предыдущие запросы</h3>
    <div class="w-60 mx-auto mt-3">

        <table class="table">
          <thead>
            <tr>
                <th>Sentence</th>
                <th>Word</th>
                <th>Date</th>
            </tr>
          </thead>
          <tbody style="overflow-y: auto">
            {% for row in data %}
              <tr>
                <td>{{ row.text }}</td>
                <td>{{ row.word }}</td>
                <td>{{ row.date }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
    </div>

{% endblock %}